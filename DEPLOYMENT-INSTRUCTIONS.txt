DEESKINSTORE - DEPLOYMENT INSTRUCTIONS
======================================

DEPLOYMENT PACKAGE: deeskinstore-deployment.tar.gz (187KB)

CONTENTS:
---------
✓ dist/ - Compiled production files ready to deploy
✓ public/.htaccess - URL rewriting for SPA routing
✓ supabase/ - Database migrations (including admin auth fix)

DEPLOYMENT STEPS:
-----------------

1. UPLOAD TO CPANEL
   - Log in to your cPanel account
   - Navigate to File Manager
   - Go to public_html directory
   - Upload deeskinstore-deployment.tar.gz

2. EXTRACT FILES
   - Right-click deeskinstore-deployment.tar.gz
   - Select "Extract"
   - Extract to current directory

3. MOVE FILES TO PUBLIC_HTML
   - Move all contents from dist/ folder directly to public_html/
   - The structure should be:
     public_html/
       ├── index.html
       ├── assets/
       ├── .htaccess
       ├── banner.png
       └── deeskinstore_logo-removebg-preview.png

4. APPLY NEW DATABASE MIGRATION (CRITICAL!)
   The admin authentication fix requires a new migration:

   Go to Supabase Dashboard > SQL Editor and run:
   supabase/migrations/20260106132113_integrate_admin_with_supabase_auth.sql

   This migration:
   - Links admin accounts to Supabase Auth
   - Fixes product creation/editing permissions
   - Updates all RLS policies

5. ADMIN LOGIN REQUIREMENT
   After deployment:
   - Log out from admin panel if currently logged in
   - Log back in with: admin@deeskinstore.com / admin123
   - This creates the proper Supabase Auth session

WHAT WAS FIXED:
---------------
✓ Admin authentication now uses Supabase Auth
✓ Product creation works correctly
✓ Product editing works correctly
✓ Product deletion works correctly
✓ All admin RLS policies properly recognize authenticated admins

VERIFY DEPLOYMENT:
------------------
1. Visit: https://deeskinstore.com
2. Go to admin: https://deeskinstore.com/admin
3. Login with: admin@deeskinstore.com / admin123
4. Navigate to Products section
5. Try adding a new product - should work without errors!

DATABASE STATUS:
----------------
✓ 8 migrations total (7 previous + 1 new auth fix)
✓ Super admin account configured with Supabase Auth
✓ All tables secured with RLS policies
✓ Products, orders, reviews, users tables ready

NOTES:
------
- Files are pre-compiled and optimized for production
- No npm install or build needed on server
- Just extract and copy to public_html
- Must apply the new migration to production database
- Old admin sessions will not work - must log in again
